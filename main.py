import os
from flask import Flask, request
import telebot
from telebot import types

TOKEN = os.getenv("TELEGRAM_TOKEN")
if not TOKEN:
    raise ValueError("โ๏ธ ูุชุบูุฑ ุงูุจูุฆุฉ TELEGRAM_TOKEN ุบูุฑ ููุฌูุฏ. ุงูุฑุฌุงุก ุฅุถุงูุชู ูู ุฅุนุฏุงุฏุงุช Render.")

bot = telebot.TeleBot(TOKEN)
app = Flask(__name__)

# -- ูุงุฆูุฉ ุงูุฃูุงูุฑ ุนูู ุงููุณุงุฑ --
left_commands = ["star", "help"]

# --- ูุงุฆูุฉ ูููู ุงูุจูุช: ุงูุชุจููุจุงุช 1 ุฅูู 10 ---
right_tabs = [
    "ุชูููู ุนุงู 1447ูโ.",
    "ุฎุฏูุงุช ุงูุชูุงุตู ูุน ุงูุฌุงูุนุฉ",
    "ุงูุงุณุฆูุฉ ุงูุดุงุฆุนุฉ_ุนุงู",
    "ุชุฎุตุตุงุช ุจุฑุงูุฌ ุงูุฏุจููู - ุญุถูุฑู",
    "ุชุฎุตุตุงุช ุจุฑุงูุฌ ุงูุฏุจููู - ุนู ุจูุนุฏ",
    "ููุงุฉ ูุฅุนูุงูุงุช ุงูุฏุจููู ๐ข",
    "ุฎุฏูุงุช ุญู ุงููุงุฌุจุงุช ูุนูู ุงููุดุงุฑูุน ูุงูุจุญูุซ",
    "ููุงูุน ูุฑูุน ุฌุงูุนุฉ ุงูููู ุณุนูุฏ",
    "ุดุฑูุท ุงูุชุฌุณูุฑ ูู ุฌุงูุนุฉ ุงูููู ุณุนูุฏ",
    "๐ุดุฑุญ ุงุณุชุฎุฏุงู โ ุงูุจูุงู ุจูุฑุฏ / Blackboard ๐"
]

# --- ุฑุณุงูุฉ ุชุฑุญูุจ ุนูุฏ /start ---
@bot.message_handler(commands=['start'])
def start_handler(message):
    text = (
        "๐น *ูุง ุงูุฐู ูููู ููุฐุง ุงูุจูุช ุชูุฏูููุ*\n\n"
        "ูุฐุง ุงูุจูุช ููุฎุตุต ูุทูุงุจ *ุงูุฏุจููู ูู ุฌุงูุนุฉ ุงูููู ุณุนูุฏ*ุ ูููุฏู ุฅูู:\n\n"
        "โ *ุชูููุฑ ุงููุนูููุงุช ุงูุฏุฑุงุณูุฉ ุจุณูููุฉ ูุณุฑุนุฉ*\n"
        "โ *ูุณุงุนุฏุฉ ุงูุทุงูุจ ูู ุงููุตูู ููู ูุง ูุญุชุงุฌู ูู ุฑูุงุจุท ููุตุงุฏุฑ ูููุฉ*\n"
        "โ *ุชูููู ุงูููุช ูุงูุฌูุฏ ุงููุจุฐูู ูู ุงูุจุญุซ*\n"
        "โ *ุชุฌููุน ูู ูุง ููู ุงูุทุงูุจ ูู ููุงู ูุงุญุฏ*\n\n"
        "ูุฃูู ุฃู ุชููู ูุฐู ุงูุฎุฏูุฉ ุนูุฏ ุญุณู ุธูููุ\n"
        "ููุณุนุฏ ุฏุงุฆููุง ุจุฎุฏูุชูู ๐\n"
        "*ุฌุฒูู ุงูุดูุฑ ูุงูุชูุฏูุฑ ููู ๐น*\n\n"
        "ููุงุฉ ูุณุงุนุฏุงุช ุทูุงุจ ุงูุฏุจููู ๐\n"
        "https://t.me/Diploma_Solutions"
    )
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    # ูุถุน ุงูุฃูุงูุฑ ุนูู ุงููุณุงุฑ
    markup.row(*left_commands)
    # ูุถุน ุงูุชุจููุจุงุช ูู ูุงุฆูุฉ ุนููุฏูุฉ - ูู ุชุจููุจ ูู ุตู
    for tab in right_tabs:
        markup.add(tab)
    bot.send_message(message.chat.id, text, parse_mode="Markdown", reply_markup=markup)

# --- ุงูุชุนุงูู ูุน ุฃูุงูุฑ ุงููุณุงุฑ (star, help) ---
@bot.message_handler(func=lambda m: m.text in left_commands)
def left_command_handler(message):
    text = message.text
    if text == "star":
        reply = (
            "ุงุถุบุท ุนูู ุงูุฃูุงูุฑ ุงูููุฌูุฏุฉ ูู ุงููุงุฆูุฉ (ูุงุฆูุฉ ูู ูููู ุงูุจูุช) ุฃุฏูุงู ูุชุญุตู ุนูู ูู ูุง ุชุญุชุงุฌู:\n\n"
            "๐ฏ ูุฃูู ุฃู ุชูุงู ุฎุฏูุชูุง ุฑุถุงูู ูุฃู ูููู ุนูุฏ ุญุณู ุธูููโฆ"
        )
    elif text == "help":
        reply = "ููุฏูู #ุดููููููุฑุญ_ุงุณุชุฎุฏุงู_ุงูุจูุช ุณูุชููุฑ ูุฑูุจุง"
    bot.send_message(message.chat.id, reply)

# --- ุงูุชุนุงูู ูุน ุงูุชุจููุจุงุช ูู ูููู ุงูุจูุช ---
@bot.message_handler(func=lambda m: m.text in right_tabs)
def right_tab_handler(message):
    text = message.text

    if text == "ุชูููู ุนุงู 1447ูโ.":
        reply = "ุงูุชูููู ุงูุฏุฑุงุณู ููุนุงู ุงูุฌุงูุนู 1447ูู ูู ุฌุงูุนุฉ ุงูููู ุณุนูุฏ ูู ูููุดุฑ ุจุดูู ุฑุณูู ุจุนุฏ"
        bot.send_message(message.chat.id, reply)

    elif text == "ุฎุฏูุงุช ุงูุชูุงุตู ูุน ุงูุฌุงูุนุฉ":
        reply = (
            "ุนูุงุฏุฉ ุงูุณูุฉ ุงูุฃููู ุงููุดุชุฑูุฉ\n"
            "SSHELP@CFY.KSU.EDU.SA\n"
            "00966-114694006\n\n"
            "ุงูุดุคูู ุงูุทูุงุจูุฉ\n"
            "ksugcc@ksu.edu.sa\n"
            "00966 1 8050141\n\n"
            "ุงููุดุฑู ุนูู ูุญุฏุฉ ุงูุชูุฌูู ูุงูุฅุฑุดุงุฏ ุงูุทูุงุจู\n"
            "sg@cfy.ksu.edu.sa\n"
            "4694118\n"
            "ุฑูู ุงูููุชุจ: 2484\n\n"
            "ุงููุดุฑู ุนูู ูุญุฏุฉ ุดุคูู ุงูุทูุงุจ\n"
            "sa@cfy.ksu.edu.sa\n\n"
            "ุฅููููุงุช ุนูุงุฏุฉ ุงููุจูู ูุงูุชุณุฌูู\n"
            "dar@ksu.edu.sa\n"
            "darweb@ksu.edu.sa\n\n"
            "ุฃุฑูุงู ุนูุงุฏุฉ ุงููุจูู ูุงูุชุณุฌูู\n"
            "0114677722\n"
            "0118054402\n\n"
            "ููุณู/ุฉ ุงูููุฒูุงุก\n"
            "nbennessib@ksu.edu.sa\n"
            "nalkathran@ksu.edu.sa\n\n"
            "ููุณู ุฃุญูุงุก\n"
            "aalii@ksu.edu.sa\n"
            "somer@ksu.edu.sa\n\n"
            "ููุณู ููู\n"
            "amenizi@ksu.edu.sa\n"
            "zalmarhoon@ksu.edu.sa\n\n"
            "ููุณู/ุฉ ุฅูุฌู\n"
            "mramadan@cfy.ksu.edu.sa\n"
            "h.alshareef@cfy.ksu.edu.sa\n\n"
            "ูุฑุน ุนููุดุฉ (ุจูุงุช)\n"
            "011 805 7331\n\n"
            "ูุฑุน ุงููุงุตุฑูุฉ (ุงููุดู ุจูุณูู ุขุฎุฑ)\n"
            "0114036600"
        )
        bot.send_message(message.chat.id, reply)

    elif text == "ุงูุงุณุฆูุฉ ุงูุดุงุฆุนุฉ_ุนุงู":
        reply = (
            "โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ - ุนุงู\n\n"
            "โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ ุญูู ุงููุจูู:\n"
            "https://dar.ksu.edu.sa/ar/FAQ\n\n"
            "โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ ููุทูุงุจ ุงูููุชุธููู:\n"
            "https://dar.ksu.edu.sa/ar/faqs\n\n"
            "โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ ููุทูุงุจ ุงูุฎุฑูุฌูู:\n"
            "https://dar.ksu.edu.sa/ar/gfaq"
        )
        bot.send_message(message.chat.id, reply)

    elif text == "ุชุฎุตุตุงุช ุจุฑุงูุฌ ุงูุฏุจููู - ุญุถูุฑู":
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        markup.row("ุฏุจููู ูุญุงุณุจุฉ")
        markup.row("๐ ุฑุฌูุน")
        bot.send_message(message.chat.id, "ุงุฎุชุฑ ุชุฎุตุตุงู ูู ุชุฎุตุตุงุช ุงูุฏุจููู ุงูุญุถูุฑู:", reply_markup=markup)

    elif text == "ุฏุจููู ูุญุงุณุจุฉ":
        reply = (
            "๐น *ุงูุฏุจููู ุงููุชูุณุท ูู ุงููุญุงุณุจุฉ โ ุฌุงูุนุฉ ุงูููู ุณุนูุฏ*\n"
            "**ุงูุฑุคูุฉ ุงูุนุงูุฉ:**\n"
            "ููุฏู ุงูุจุฑูุงูุฌ ุฅูู ุงูุฅุณูุงู ูู ุชูุจูุฉ ูุชุทูุจุงุช ุณูู ุงูุนูู ุงูุณุนูุฏู ูู ุงูููุงุฏุฑ ุงููุคููุฉ ูู ูุฌุงู ุงููุญุงุณุจุฉุ ูู ุฎูุงู ุฅุนุฏุงุฏ ุฎุฑูุฌูู ููุชูููู ุงููุนุงุฑู ูุงูููุงุฑุงุช ุงููุงุฒูุฉ ูุฃุฏุงุก ุงูููุงู ุงููุญุงุณุจูุฉ ุจููุงุกุฉ ูุงุญุชุฑุงููุฉ.\n\n"
            "### ๐ฏ *ุงูุฃูุฏุงู ุงูุฑุฆูุณุฉ ููุจุฑูุงูุฌ:*\n"
            "โ ุชูููุฑ ุจูุฆุฉ ุฃูุงุฏูููุฉ ูุชุทูุฑุฉ ูุฅุนุฏุงุฏ ููุงุฏุฑ ูุชููุฒุฉ ูู ุงููุฌุงู ุงููุญุงุณุจู ููู ูููุฌ ุนููู ุฏููู.\n"
            "โ ุชุฃููู ุงูุทูุจุฉ ุจุฃุญุฏุซ ุงูููุงููู ูุงููุนุงุฑู ุงููุธุฑูุฉ ูุงูุชุทุจูููุฉ ูู ุงููุญุงุณุจุฉ.\n"
            "โ ุชูููุฉ ุงูููุงุฑุงุช ุงูููุฑูุฉ ูุงูุจุญุซูุฉ ููุทูุงุจ ููุนูู ุจููุงุกุฉ ุนุงููุฉ ูู ุจูุฆุงุช ุงูุนูู ุงููุญุงุณุจูุฉ.\n"
            "โ ุชุทููุฑ ุงูููุงุฑุงุช ุงูุนูููุฉ ูุฅูุฌุงุฒ ุงูุฃูุดุทุฉ ูุงูุนูููุงุช ุงููุญุงุณุจูุฉ ุงููุชููุนุฉ.\n"
            "โ ุชุฏุฑูุจ ุงูุทูุงุจ ุนูู ุงุณุชุฎุฏุงู ุงูุญุงุณุจ ุงูุขูู ูุงูุชุทุจููุงุช ุงููุญุงุณุจูุฉ ุงูุญุฏูุซุฉ ุจููุงุกุฉ.\n"
            "โ ุชูุฏูู ูุฑุฌุนูุฉ ุนูููุฉ ุชุฌูุน ุจูู ุงูุฌุงูุจ ุงููุธุฑู ูุงูุชุทุจููู ูู ูุฌุงู ุงูุฃุนูุงู ุงููุงููุฉ ูุงููุตุฑููุฉ ูุฎุฏูุฉ ุงูุฌุงูุนุงุช ุงูุณุนูุฏูุฉ.\n\n"
            "---\n\n"
            "### ๐ *ุงูุฎุทุฉ ุงูุฏุฑุงุณูุฉ ููุตู ุงูููุฑุฑุงุช:*\n\n"
            "* ๐ธ [ุงูุฎุทุฉ ุงูุฏุฑุงุณูุฉ ููุฏุจููู ุงููุชูุณุท ูู ุงููุญุงุณุจุฉ (ุงูุฌุฏูุฏุฉ)](https://ascs.ksu.edu.sa/sites/ascs.ksu.edu.sa/files/attach/%D8%A7%D9%84%D9%85%D8%AD%D8%A7%D8%B3%D8%A8%D8%A9_0.pdf)\n"
            "* ๐ธ [ูุตู ุงูููุฑุฑุงุช ุงูุฏุฑุงุณูุฉ ููุฏุจููู ุงููุชูุณุท ูู ุงููุญุงุณุจุฉ (ุงูุฌุฏูุฏุฉ)](https://ascs.ksu.edu.sa/sites/ascs.ksu.edu.sa/files/attach/wsf_lmqrrt_ldblwm_lmhsb.pdf)\n\n"
            "---\n\n"
            "### ๐ผ *ุงููุฑุต ุงููุธูููุฉ ููุฎุฑูุฌูู:*\n\n"
            "* ูุณุงุนุฏ ูุญุงุณุจ\n"
            "* ูุญุตู ุฅูุฑุงุฏุงุช\n"
            "* ูุฃููุฑ ูุจูุนุงุช\n"
            "* ุฃููู ุตูุฏูู\n"
            "* ูุฃููุฑ ุนูุฏ\n"
            "* ูุฑุงูุจ ุนูุฏ\n"
            "* ูุฑุงูุจ ูุฎุงุฒู\n"
            "* ุฃููู ูุณุชูุฏุน\n"
            "* ููุชุด ุชูููู\n"
            "* ูุฃููุฑ ูุดุชุฑูุงุช\n"
            "* ูุฑุงูุจ ุชุฌุงุฑู\n"
            "* ูุณุงุนุฏ ูุฏูู ุญุณุงุจุงุช\n"
            "* ูุงุชุจ ุฅุฏุงุฑู ูู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ\n"
            "* ูุณุงุนุฏ ูุฏุฑุจ ูู ูุฌุงู ุงูุชุฎุตุต\n\n"
            "https://t.me/SaudDiploma_bot"
        )
        bot.send_message(message.chat.id, reply, parse_mode="Markdown")

    elif text == "ุชุฎุตุตุงุช ุจุฑุงูุฌ ุงูุฏุจููู - ุนู ุจูุนุฏ":
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        markup.row("ุดุฑุญ - ุงูุจูุงู ุจูุฑุฏ / Blackboard")
        markup.row("ุฏุจููู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงููุตุฑููุฉ - ุนู ุจุนุฏ")
        markup.row("๐ ุฑุฌูุน")
        bot.send_message(message.chat.id, "ุงุฎุชุฑ ูู ุชุฎุตุตุงุช ุงูุฏุจููู ุนู ุจุนุฏ:", reply_markup=markup)

    elif text == "ุดุฑุญ - ุงูุจูุงู ุจูุฑุฏ / Blackboard":
        reply = "ุดุฑุญ ุงุณุชุฎุฏุงู- ุงูุจูุงู ุจูุฑุฏ/ Blackboard โคต๏ธ\nhttps://t.me/Diploma_Solutions/16"
        bot.send_message(message.chat.id, reply)

    elif text == "ุฏุจููู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงููุตุฑููุฉ - ุนู ุจุนุฏ":
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        markup.row("ุชุนุฑูู ุจุงูุชุฎุตุต")
        markup.row("ุงูุฎุทุฉ ุงูุฏุฑุงุณูุฉ")
        markup.row("ูุตู ุงูููุฑุฑุงุช")
        markup.row("๐ ุฑุฌูุน")
        bot.send_message(message.chat.id, "ุงุฎุชุฑ ูู ูุงุฆูุฉ ุฏุจููู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงููุตุฑููุฉ:", reply_markup=markup)

    elif text == "ุชุนุฑูู ุจุงูุชุฎุตุต":
        reply = (
            "ูููุง ููู *ููุฎุต ููุธู ูุดุงูู* ูุจุฑูุงูุฌ *ุงูุฏุจููู ุงููุชูุณุท ูู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงููุตุฑููุฉ*:\n\n"
            "### ๐ฏ ุฃูุฏุงู ุงูุจุฑูุงูุฌ:\n"
            "1. ุฅูุณุงุจ ุงูุทูุงุจ ุงููุนุฑูุฉ ุงูุฃุณุงุณูุฉ ุจุงูููุงููู ูุงููุจุงุฏุฆ ูุงูุฃูุธูุฉ ูู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงููุตุฑููุฉ.\n"
            "2. ุชููุฆุฉ ุงูุทูุงุจ ููุชุทูุฑุงุช ุงูุญุฏูุซุฉ ูู ุงููุทุงุน ุงููุงูู ูุงููุตุฑูู.\n"
            "3. ุชุฃููู ุงูุทูุงุจ ููุนูู ูู ุงููุธุงุฆู ุงููุงููุฉ ูุงููุตุฑููุฉ ุงููุชููุนุฉ.\n"
            "4. ุชูููุฉ ููุงุฑุงุชูู ุงูุนูููุฉ ูุงูุญุณุงุจูุฉุ ุฅูู ุฌุงูุจ ููุงุฑุงุช ุงูุชูุงุตู ูุชูููุฉ ุงููุนูููุงุช.\n\n"
            "### ๐ ูุฎุฑุฌุงุช ุชุนูู ุงูุจุฑูุงูุฌ:\n"
            "**ุฃููุงู: ุงููุนุฑูุฉ:**\n"
            "- ุงูุชุนุฑู ุนูู ุฎุตุงุฆุต ุงูุฃุฏูุงุช ุงููุงููุฉ ูุฃุณุงููุจ ุงูุชุญููู ุงููุงูู.\n"
            "- ููู ุฃููุงุน ุงููุคุณุณุงุช ูุงููุณุทุงุก ุงููุงูููู ูุฃุฏูุงุฑูู.\n"
            "- ุฅุฏุฑุงู ุฃุณุงุณูุงุช ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงูุงุณุชุซูุงุฑ.\n"
            "- ูุชุงุจุนุฉ ุงูุชุทูุฑุงุช ูุงููุธุฑูุงุช ุงูุญุฏูุซุฉ ูู ุงููุทุงุน ุงููุงูู ูุงููุตุฑูู.\n\n"
            "**ุซุงูููุง: ุงูููุงุฑุงุช ุงูุฅุฏุฑุงููุฉ:**\n"
            "- ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุงููุฉ ูู ุงูุชุญููู ูุชูููู ุงููุดุงุฑูุน.\n"
            "- ุชุญููู ุงููุถุงูุง ุงููุงููุฉ ูุงูุชูุจุค ุจุงููุฎุงุทุฑ ูุงุชุฎุงุฐ ุงููุฑุงุฑ.\n"
            "- ุงูุชูููุฒ ุจูู ุงูููุงุฑุณุงุช ุงููุงููุฉ ุงููุฎุชููุฉ.\n"
            "- ุชูููู ุชุบูุฑ ุงููุนูููุงุช ุงููุงููุฉ ุจุณุฑุนุฉ ููุนุงููุฉ.\n\n"
            "**ุซุงูุซูุง: ููุงุฑุงุช ุงูุชุนุงูู ูุน ุงูุฃุดุฎุงุต ูุชุญูู ุงููุณุคูููุฉ:**\n"
            "- ุงููุนู ุจุงูุฌูุงูุจ ุงูุฃุฎูุงููุฉ ุงููุฑุชุจุทุฉ ุจุงููููุฉ.\n"
            "- ุงูุชูุงุนู ูุงูุนูู ุถูู ูุฑู ุงูุนูู ุงููุชุฎุตุตุฉ ูุชุญููู ุฃูุฏุงู ุงูุชุฎุตุต.\n\n"
            "**ุฑุงุจุนูุง: ููุงุฑุงุช ุงูุงุชุตุงูุ ุงูุชูููุฉุ ูุงูุญุณุงุจ:**\n"
            "- ุฅุชูุงู ููุงุฑุงุช ุงูุงุชุตุงู ุงูุดููู ูุงููุชุงุจู ุจุงุณุชุฎุฏุงู ุงูุชูุงุฑูุฑ ูุงูุนุฑูุถ ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู.\n"
            "- ุชูุธูู ุงูุชุญููู ุงูููู ูุงูุนุฏุฏู ูู ุญู ุงููุดููุงุช.\n"
            "- ุงุณุชุฎุฏุงู ุงูุญุงุณุจ ุงูุขูู ูู ุงูููุงู ุงููุงููุฉ ูุงููุตุฑููุฉ.\n\n"
            "### ๐ผ ุงููุฑุต ุงููุธูููุฉ:\n"
            "- ุงูููุดุขุช ุงูุงูุชุตุงุฏูุฉ ุจุฃููุงุนูุง\n"
            "- ุงููุตุงุฑู ุงูุชุฌุงุฑูุฉ ูุงูุฅุณูุงููุฉ\n"
            "- ุดุฑูุงุช ุงูุชุฃููู\n"
            "- ุงูุจูู ุงููุฑูุฒู ุงูุณุนูุฏู\n"
            "- ููุงุชุจ ุงูุตุฑุงูุฉ\n"
            "- ุงููุทุงุนุงุช ุงููุงููุฉ ูู ุงูุฌูุงุช ุงูุญููููุฉ\n"
            "- ูุฒุงุฑุฉ ุงููุงููุฉ ูุฃุฌูุฒุชูุง ุงููุฎุชููุฉ\n\n"
            "#### ุฃูุซูุฉ ูููุธุงุฆู:\n"
            "- ุฃููู ุตูุฏูู\n"
            "- ูุฃููุฑ ุตุฑู\n"
            "- ูุณุงุนุฏ ูุฏูุฑ ูุงูู\n"
            "- ูุฑุงูุจ ูุงูู\n"
            "- ุนุฏูุงุฏ ูููุฏ\n"
            "- ูุฏูู ุญุณุงุจุงุช\n"
            "- ูุญุตูู ุฅูุฑุงุฏุงุช\n"
            "- ูุฑุงูุจ ุชุฌุงุฑู\n"
            "- ูุบูุฑูุง ูู ุงููุธุงุฆู ุฐุงุช ุงูุตูุฉ ุจุงููุฌุงู ุงููุงูู ูุงููุตุฑูู.\n\n"
            "https://t.me/SaudDiploma_bot"
        )
        bot.send_message(message.chat.id, reply, parse_mode="Markdown")

    elif text == "ุงูุฎุทุฉ ุงูุฏุฑุงุณูุฉ":
        reply = "ุงูุฎุทุฉ ุงูุฏุฑุงุณูุฉ ููุฏุจููู ุงููุชูุณุท ูู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงููุตุฑููุฉ:\nhttps://drive.google.com/file/d/11Re6r3MibiqyMxrlg0jh-X_SZGrOu5Cb/view?usp=drivesdk\n\nhttps://t.me/SaudDiploma_bot"
        bot.send_message(message.chat.id, reply)

    elif text == "ูุตู ุงูููุฑุฑุงุช":
        reply = "ูุตู ููุฑุฑุงุช ุฏุจููู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงููุตุฑููุฉ:\nhttps://drive.google.com/file/d/11OtBZQauC278G2cqTkh2fSruXLHrqlf3/view?usp=drivesdk\n\nhttps://t.me/SaudDiploma_bot"
        bot.send_message(message.chat.id, reply)

    elif text == "๐ ุฑุฌูุน":
        # ุฃุนูุฏ ุนุฑุถ ูุงุฆูุฉ ุงูุชุจููุจุงุช ุงูุฑุฆูุณูุฉ ูู ูููู ุงูุจูุช
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        for tab in right_tabs:
            markup.add(tab)
        # ุฃุถู ุฃูุงูุฑ ุงููุณุงุฑ ุฃูุถุงู
        markup.row(*left_commands)
        bot.send_message(message.chat.id, "ุชู ุงูุฑุฌูุน ุฅูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ.", reply_markup=markup)

    elif text == "ููุงุฉ ูุฅุนูุงูุงุช ุงูุฏุจููู ๐ข":
        reply = (
            "โฆ (ููุงุฉ ุฃุฎุจุงุฑ) ุฏุจูููุงุช ุฌุงูุนุฉ ุงูููู ุณุนูุฏ:\n"
            "๐ https://t.me/KSDN_222\n\n"
            "โฆ ููุงุฉ ุฎุงุตุฉ ุจุญููู ูุงุฌุจุงุช ูุงุฎุชุจุงุฑุงุช ููุงุฏ ุงูุฏุจููู ุจุฌุงูุนุฉ ุงูููู ุณุนูุฏ KSU:\n"
            "๐ https://t.me/Diploma_Solutions"
        )
        bot.send_message(message.chat.id, reply)

    elif text == "ุฎุฏูุงุช ุญู ุงููุงุฌุจุงุช ูุนูู ุงููุดุงุฑูุน ูุงูุจุญูุซ":
        reply = (
            "๐ *ููุตุฉ ุนููู ุงูุฃูุงุฏูููุฉ โ ูุฌููุน ุทูุงุจ ุฏุจูููุงุช ุฌุงูุนุฉ ุงูููู ุณุนูุฏ*\n\n"
            "๐ธ ุณูุงุก ููุช ุทุงูุจูุง ูุณุชุฌุฏูุง ุฃู ูู ุฃุญุฏ ุงููุณุชููุงุช ุงููุชูุฏูุฉุ ููุฑูุง ูู ูู ูุง ุชุญุชุงุฌู ูู ููุงูู ูุงุญุฏ.\n\n"
            "๐ผ *ุฎุฏูุงุชูุง ุชุดูู:*\n"
            "โช๏ธ ุญู ุงููุงุฌุจุงุช ุงูุฃูุงุฏูููุฉ ุจุฌูุฏุฉ ุนุงููุฉ\n"
            "โช๏ธ ุฅุนุฏุงุฏ ุงูุจุญูุซ ูุงูุชูุงุฑูุฑ ุงูุงุญุชุฑุงููุฉ (Word | PDF | Excel)\n"
            "โช๏ธ ุชุตููู ุงูุนุฑูุถ ุงูุชูุฏูููุฉ PowerPoint ุจุฃุณููุจ ูููุฒ\n"
            "โช๏ธ ุชูููุฐ ุงููุดุงุฑูุน ุงูุฏุฑุงุณูุฉ ุจุฏูุฉ ูุงุญุชุฑุงููุฉ\n"
            "โช๏ธ ุฏุนู ูุงูู ูู ุงูุฃุนูุงู ุงููุตููุฉ ูููุงู ุงูููุงุฏ\n\n"
            "๐ง ูุถู ูุฑูููุง ูู *ุงููุชุฎุตุตูู ุงูุฃูุงุฏููููู* ูู ูุฎุชูู ุงููุฌุงูุงุชุ ูุฎุชุงุฑ ุงูุฃูุณุจ ูุทูุจู ูุถูุงู ุฃุนูู ุฌูุฏุฉ ููููุฉ.\n\n"
            "๐ ุชุงุจุน ููุงุชูุง ุงูุฑุณููุฉ ูุฌููุน ุงูุฎุฏูุงุช ุงูุทูุงุจูุฉ:\n"
            "๐ https://t.me/Diploma_Solutions\n"
            "๐ https://t.me/Aoun_Academic\n\n"
            "๐ฌ ููุชูุงุตู ูุทูุจ ุงูุฎุฏูุงุช ูุจุงุดุฑุฉ:\n"
            "๐ [ุงุถุบุท ููุง ููุชูุงุตู ุนุจุฑ ุงููุงุชุณุงุจ](https://wa.me/967733365187)\n\n"
            "โญ๏ธ *ุฌูุฏุฉุ ุณุฑุนุฉุ ุฎุตูุตูุฉ โ ูุฃู ูุฌุงุญู ูู ูุฏููุง.*\n\n"
            "โ๏ธ *ูุนูู ุฎุทูุฉ ุจุฎุทูุฉ ุญุชู ุงูุชุฎุฑุฌ โ ุฏูุชู ุจุฎูุฑ ๐ฟ*"
        )
        bot.send_message(message.chat.id, reply, parse_mode="Markdown")

    elif text == "ููุงูุน ูุฑูุน ุฌุงูุนุฉ ุงูููู ุณุนูุฏ":
        reply = (
            "โช๏ธ ููุงูุน ูุฑูุน ุฌุงูุนุฉ ุงูููู ุณุนูุฏ:\n\n"
            "โซ๏ธ ุฌุงูุนุฉ ุงูููู ุณุนูุฏ (ุนููุดุฉ ุจูุงุช): https://maps.app.goo.gl/nHSKPBWHqAdvspmz8?g_st=it\n\n"
            "โซ๏ธ ุฌุงูุนุฉ ุงูููู ุณุนูุฏ (ุงูุฑูุงุจู ูุดุชุฑู): https://maps.app.goo.gl/1Xf9MqXCPs9fVkng7?g_st=it\n\n"
            "โซ๏ธ ุฌุงูุนุฉ ุงูููู ุณุนูุฏ (ุงููุจูู ุงูุฑุฆูุณู ุชุฑูู ุงูุฃูู): https://maps.app.goo.gl/NjeJTWoj4mhK5MUKA?g_st=it\n\n"
            "โซ๏ธ ุฌุงูุนุฉ ุงูููู ุณุนูุฏ (ุงูููุฒ): https://maps.app.goo.gl/4bnaxNA8vMDRSp9D7\n\n"
            "โซ๏ธ ุฌุงูุนุฉ ุงูููู ุณุนูุฏ (ุงููุดู ุนูุงู): https://maps.app.goo.gl/sCo9BkV1WaEeXVGa8?g_st=it\n\n"
            "โซ๏ธ ุฌุงูุนุฉ ุงูููู ุณุนูุฏ (ุงููุฏููุฉ ุงูุฌุงูุนูุฉ ููุทุงูุจุงุช): https://maps.app.goo.gl/EZcL9XVz1w8UomYF6?g_st=ic\n\n"
            "ุจูุช ุงูุฌุงูุนุฉ: https://t.me/SaudDiploma_bot"
        )
        bot.send_message(message.chat.id, reply)

    elif text == "ุดุฑูุท ุงูุชุฌุณูุฑ ูู ุฌุงูุนุฉ ุงูููู ุณุนูุฏ":
        reply = "ุดุฑูุท ุงูุชุฌุณูุฑ ูู ุฌุงูุนุฉ ุงูููู ุณุนูุฏ:\nhttps://t.me/Diploma_Solutions/24"
        bot.send_message(message.chat.id, reply)

    elif text == "๐ุดุฑุญ ุงุณุชุฎุฏุงู โ ุงูุจูุงู ุจูุฑุฏ / Blackboard ๐":
        reply = "ุดุฑุญ ุงุณุชุฎุฏุงู- ุงูุจูุงู ุจูุฑุฏ/ Blackboard โคต๏ธ\nhttps://t.me/Diploma_Solutions/16"
        bot.send_message(message.chat.id, reply)

    else:
        bot.send_message(message.chat.id, "ุนุฐุฑุงูุ ูุฐุง ุงููุณู ููุฏ ุงูุชุทููุฑ ุฃู ุบูุฑ ูุนุฑูู.")


# --- Webhook for Flask ---

@app.route('/' + TOKEN, methods=['POST'])
def getMessage():
    json_str = request.get_data().decode('UTF-8')
    update = telebot.types.Update.de_json(json_str)
    bot.process_new_updates([update])
    return "!", 200


@app.route('/')
def webhook():
    bot.remove_webhook()
    bot.set_webhook(url='https://YOUR_RENDER_APP_URL/' + TOKEN)
    return "Webhook set", 200


if __name__ == '__main__':
    app.run(host="0.0.0.0", port=int(os.environ.get('PORT', 5000)))
    
